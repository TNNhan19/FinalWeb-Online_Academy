{{#section "head"}}
<script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/7/tinymce.min.js"></script>
{{/section}}

<h4 class="mb-3">{{#if isNew}}ÄÄƒng khÃ³a há»c má»›i{{else}}Chá»‰nh sá»­a khÃ³a há»c{{/if}}</h4>

<form method="POST">
  <div class="row g-3">
    <div class="col-md-8">
      <label class="form-label">TiÃªu Ä‘á»</label>
      <input name="title" class="form-control" value="{{course.title}}" required>

      <label class="form-label mt-2">MÃ´ táº£ ngáº¯n</label>
      <textarea name="short_desc" class="form-control" rows="2">{{course.short_desc}}</textarea>

      <label class="form-label mt-2">Ná»™i dung chi tiáº¿t</label>
      <textarea id="editor" name="detail_html">{{course.detail_html}}</textarea>
    </div>

    <div class="col-md-4">
      <label class="form-label">áº¢nh Ä‘áº¡i diá»‡n</label>
      <input name="hero_image_url" class="form-control" value="{{course.hero_image_url}}">

      <label class="form-label mt-2">GiÃ¡</label>
      <input type="number" name="price" class="form-control" value="{{course.price_cents}}">

      <label class="form-label mt-2">GiÃ¡ khuyáº¿n mÃ£i</label>
      <input type="number" name="promo_price" class="form-control" value="{{course.promo_price_cents}}">

      {{#unless isNew}}
      <label class="form-label mt-2">Tráº¡ng thÃ¡i</label>
      <select name="status" class="form-select">
        <option value="incomplete" {{#if (eq course.status "incomplete")}}selected{{/if}}>ChÆ°a hoÃ n thÃ nh</option>
        <option value="complete" {{#if (eq course.status "complete")}}selected{{/if}}>ÄÃ£ hoÃ n thÃ nh</option>
      </select>

      <div class="form-check mt-2">
        <input class="form-check-input" type="checkbox" name="is_published" id="pub" {{#if course.is_published}}checked{{/if}}>
        <label for="pub">Xuáº¥t báº£n</label>
      </div>
      {{/unless}}

      <button class="btn btn-primary mt-3 w-100">LÆ°u</button>
    </div>
  </div>
</form>

{{#unless isNew}}
<hr class="my-4">
<h5>ğŸ¬ ThÃªm chÆ°Æ¡ng</h5>
<form method="POST" action="/instructor/section/{{course.id}}" class="row g-2">
  <div class="col-md-6"><input name="title" placeholder="TÃªn chÆ°Æ¡ng" class="form-control"></div>
  <div class="col-md-2"><input name="ord" type="number" min="1" value="1" class="form-control"></div>
  <div class="col-md-4"><button class="btn btn-outline-primary w-100">ThÃªm</button></div>
</form>

{{#each sections}}
<div class="card mt-3">
  <div class="card-header fw-semibold">{{title}}</div>
  <div class="card-body">
    <form method="POST" action="/instructor/lecture/{{id}}" class="row g-2 align-items-center">
      <div class="col-md-3"><input name="title" placeholder="BÃ i giáº£ng" class="form-control" required></div>
      <div class="col-md-4"><input name="video_url" placeholder="URL video" class="form-control"></div>
      <div class="col-md-2"><input name="duration" type="number" placeholder="GiÃ¢y" class="form-control"></div>
      <div class="col-md-1 text-center"><input type="checkbox" name="is_preview"> Xem thá»­</div>
      <div class="col-md-2"><button class="btn btn-outline-success w-100">ThÃªm bÃ i</button></div>
    </form>
  </div>
</div>
{{/each}}
{{/unless}}

{{#section "js"}}
<script>
  tinymce.init({ selector: '#editor', height: 400, menubar: false });
</script>
{{/section}}
