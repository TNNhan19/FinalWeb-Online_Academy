<h4 class="mb-4 d-flex justify-content-between align-items-center">
  <span><i class="bi bi-person-badge-fill me-2 text-primary"></i>Hồ sơ giảng viên</span>
  <a href="/instructor" class="btn btn-outline-secondary btn-sm">
    <i class="bi bi-arrow-left me-1"></i> Quay lại bảng điều khiển
  </a>
</h4>

<div class="row g-4">
  <div class="col-md-5">

    <form method="POST" action="/instructor/profile/update" enctype="multipart/form-data"
      class="card border-0 shadow-sm p-4 rounded-4">
      <h5 class="fw-semibold mb-3 text-primary"><i class="bi bi-pencil-square me-2"></i>Chỉnh sửa thông tin</h5>

      <div class="mb-3 text-center">
        {{#if profile.avatar_url}}
        <img src="{{profile.avatar_url}}" alt="Avatar" class="rounded-circle shadow-sm mb-3"
          style="width:120px; height:120px; object-fit:cover;">
        {{else}}
        <div class="rounded-circle bg-light d-inline-flex align-items-center justify-content-center mb-3 shadow-sm"
          style="width:120px; height:120px;">
          <i class="bi bi-person-circle fs-1 text-secondary"></i>
        </div>
        {{/if}}
        <input type="file" name="avatar_file" accept="image/*" class="form-control mt-2">
      </div>

      <div class="mb-3">
        <label class="form-label fw-semibold">Họ và tên</label>
        <input name="name" class="form-control" value="{{profile.name}}" required>
      </div>

      <div class="mb-3">
        <label class="form-label fw-semibold">Email</label>
        <input type="email" class="form-control" value="{{profile.email}}" readonly>
      </div>

      <div class="mb-3">
        <label class="form-label fw-semibold">Giới thiệu bản thân</label>
        <textarea name="bio" class="form-control" rows="4"
          placeholder="Viết đôi lời giới thiệu về bản thân...">{{profile.bio}}</textarea>
      </div>

      <div class="mb-3">
        <label class="form-label fw-semibold">Tổng khóa học</label>
        <div class="input-group">
          <span class="input-group-text bg-light"><i class="bi bi-journal-text text-primary"></i></span>
          <input type="text" class="form-control" value="{{profile.total_courses}}" readonly>
        </div>
      </div>

      <div class="mb-3">
        <label class="form-label fw-semibold">Tổng học viên</label>
        <div class="input-group">
          <span class="input-group-text bg-light"><i class="bi bi-people-fill text-primary"></i></span>
          <input type="text" class="form-control" value="{{profile.total_students}}" readonly>
        </div>
      </div>


      <div class="text-end">
        <button class="btn btn-primary px-4">
          <i class="bi bi-save me-1"></i> Cập nhật
        </button>
      </div>
    </form>
  </div>

  <!-- Danh sách khóa học -->
  <div class="col-md-7">
    <div class="card border-0 shadow-sm p-4 rounded-4">
      <h5 class="fw-semibold mb-3 text-primary">
        <i class="bi bi-journal-bookmark-fill me-2"></i>Các khóa học của tôi
      </h5>

      {{#if courses.length}}
      <div class="table-responsive">
        <table class="table table-hover align-middle text-center">
          <thead class="table-light">
            <tr>
              <th scope="col">Tên khóa học</th>
              <th scope="col">Danh mục</th>
              <th scope="col">Giá ($)</th>
              <th scope="col">Trạng thái</th>
            </tr>
          </thead>
          <tbody>
            {{#each courses}}
            <tr>
              <td class="text-start">
                <a href="/instructor/edit/{{course_id}}" class="text-decoration-none fw-semibold text-dark">
                  <i class="bi bi-book me-1 text-primary"></i>{{title}}
                </a>
              </td>
              <td>{{category_name}}</td>
              <td>{{current_price}}</td>
              <td>
                {{#if (eq status "complete")}}
                <span class="badge bg-success"><i class="bi bi-check-circle me-1"></i>Hoàn thành</span>
                {{else}}
                <span class="badge bg-warning text-dark"><i class="bi bi-hourglass-split me-1"></i>Chưa hoàn
                  thành</span>
                {{/if}}
              </td>
            </tr>
            {{/each}}
          </tbody>
        </table>
      </div>
      {{else}}
      <p class="text-muted fst-italic mb-0">
        <i class="bi bi-info-circle me-1"></i>Chưa có khóa học nào được tạo.
      </p>
      {{/if}}
    </div>
  </div>
</div>