<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Course Academy - H·ªçc Tr·ª±c Tuy·∫øn</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/responsive.css">
    <link rel="stylesheet" href="/css/main.css">

</head>
<body>
    {{!-- Assuming you have a navbar partial, otherwise integrate it --}}
    {{!-- {{> navbar}} --}}

    {{!-- Hero Section --}}
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">H·ªçc Tr·ª±c Tuy·∫øn<br>Ph√°t Tri·ªÉn K·ªπ NƒÉng</h1>
                <p class="hero-subtitle">Kh√°m ph√° h√†ng ngh√¨n kh√≥a h·ªçc ch·∫•t l∆∞·ª£ng cao t·ª´ c√°c gi·∫£ng vi√™n h√†ng ƒë·∫ßu. H·ªçc m·ªçi l√∫c, m·ªçi n∆°i v·ªõi Online Academy.</p>
                <div class="hero-actions">
                    <button class="btn-primary btn-large" id="exploreBtn">Kh√°m ph√° kh√≥a h·ªçc</button>
                    <button class="btn-primary btn-large" id="learnMoreBtn">T√¨m hi·ªÉu th√™m</button>
                </div>
                <div class="hero-stats">
                    <div class="stat-item">
                        <h3 id="totalStudents">{{stats.students}}</h3>
                        <p>H·ªçc vi√™n</p>
                     </div>
                    <div class="stat-item">
                        <h3 id="totalCourses">{{stats.courses}}</h3>
                        <p>Kh√≥a h·ªçc</p>
                     </div>
                    <div class="stat-item">
                        <h3 id="totalInstructors">{{stats.instructors}}</h3>
                        <p>Gi·∫£ng vi√™n</p>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- üîç K·∫æT QU·∫¢ T√åM KI·∫æM KH√ìA H·ªåC -->
    <section id="searchResultsSection" class="py-5 bg-white" style="display:none;">
        <div class="container">
            <div class="d-flex flex-wrap justify-content-between align-items-center mb-4">
            <h2 class="fw-bold text-primary mb-3 mb-md-0">
                K·∫øt Qu·∫£ T√¨m Ki·∫øm
            </h2>

            <!-- B·ªô l·ªçc s·∫Øp x·∫øp -->
            <div class="d-flex align-items-center gap-2">
                <label class="text-muted small me-1">S·∫Øp x·∫øp theo:</label>
                <select id="sortSelect" class="form-select form-select-sm rounded-pill" style="width:180px;">
                <option value="rating_desc">ƒê√°nh gi√° cao nh·∫•t</option>
                <option value="price_asc">Gi√° tƒÉng d·∫ßn</option>
                <option value="newest">M·ªõi nh·∫•t</option>
                <option value="bestseller">B√°n ch·∫°y nh·∫•t</option>
                </select>
            </div>
            </div>

            <!-- Danh s√°ch kh√≥a h·ªçc -->
            <div id="searchResultsContainer" class="row g-4"></div>

            <!-- Ph√¢n trang -->
            <nav id="paginationNav" class="mt-5 d-flex justify-content-center" aria-label="Pagination" style="display:none;">
            <ul class="pagination pagination-rounded mb-0">
                <li class="page-item"><button class="page-link" id="prevPage">‚Üê Tr∆∞·ªõc</button></li>
                <li class="page-item disabled"><span class="page-link" id="currentPage">1</span></li>
                <li class="page-item"><button class="page-link" id="nextPage">Sau ‚Üí</button></li>
            </ul>
            </nav>
        </div>
    </section>




        <!-- üü¢ DANH M·ª§C KH√ìA H·ªåC -->
    <section class="py-5 bg-light category-section" id="categories">
        <div class="container">
            <!-- Ti√™u ƒë·ªÅ -->
            <div class="section-header text-center mb-5">
            <h2 class="section-title fw-bold text-primary">Danh M·ª•c Kh√≥a H·ªçc</h2>
            <p class="section-subtitle text-muted">
                Ch·ªçn lƒ©nh v·ª±c b·∫°n mu·ªën h·ªçc v√† b·∫Øt ƒë·∫ßu h√†nh tr√¨nh c·ªßa m√¨nh
            </p>
            </div>

            {{#if categories.length}}
            <div class="row g-4 justify-content-center" id="categoryList">
            {{#each categories}}
            <div class="col-12 col-sm-6 col-lg-4 d-flex">
                <div
                class="category-card bg-white border rounded-4 shadow-sm p-4 flex-fill w-100 hover-scale"
                data-category="{{this.name}}"
                style="cursor:pointer; transition:transform 0.2s ease, box-shadow 0.2s ease;"
                >
                <h5 class="fw-bold text-primary mb-3 d-flex align-items-center justify-content-center">
                    <i class="bi bi-folder2-open me-2"></i>{{this.name}}
                </h5>

                {{#if this.subcategories.length}}
                <ul class="list-unstyled mb-0 text-start small">
                    {{#each this.subcategories}}
                    <li
                    class="py-1 px-2 rounded-3 hover-bg-light d-flex align-items-center"
                    style="cursor:pointer;"
                    data-category="{{this.name}}"
                    >
                    <i class="bi bi-chevron-right text-primary me-1"></i>
                    <span>{{this.name}}</span>
                    </li>
                    {{/each}}
                </ul>
                {{else}}
                <p class="text-muted small text-center mb-0">Ch∆∞a c√≥ lƒ©nh v·ª±c con</p>
                {{/if}}
                </div>
            </div>
            {{/each}}
            </div>
            {{else}}
            <div class="text-center text-muted">Ch∆∞a c√≥ danh m·ª•c n√†o ƒë·ªÉ hi·ªÉn th·ªã.</div>
            {{/if}}
        </div>
    </section>



    <section class="courses py-5 bg-light">
        <div class="container">
            <div class="section-header text-center mb-5">
            <h2 class="section-title fw-bold">Kh√≥a H·ªçc N·ªïi B·∫≠t Trong Tu·∫ßn</h2>
            <p class="section-subtitle text-muted">
                Nh·ªØng kh√≥a h·ªçc ƒë∆∞·ª£c xem v√† ƒëƒÉng k√Ω nhi·ªÅu nh·∫•t trong 7 ng√†y qua
            </p>
            </div>

            <div class="row g-4">
            {{#each weeklyHighlights}}
            <div class="col-12 col-sm-6 col-lg-3 d-flex course-card" data-id="{{this.course_id}}">
                <div class="card shadow-sm border-0 rounded-4 h-100 w-100 hover-shadow">
                <img src="{{this.image_url}}" alt="{{this.title}}"
                    class="card-img-top"
                    style="height:180px; object-fit:cover; border-top-left-radius:1rem; border-top-right-radius:1rem;">
                <div class="card-body d-flex flex-column justify-content-between">
                    <div>
                    <span class="badge bg-light text-primary mb-2">{{this.category_name}}</span>
                    <h6 class="fw-semibold mb-1 text-dark">{{this.title}}</h6>
                    <p class="text-muted small mb-3" style="min-height:40px; overflow:hidden;">
                        {{this.description}}
                    </p>
                    </div>
                    <div>
                    <div class="d-flex align-items-center mb-2">
                        <span class="small text-dark">
                        {{#if this.instructor_name}}
                            {{this.instructor_name}}
                        {{else}}
                            Gi·∫£ng vi√™n ·∫©n danh
                        {{/if}}
                        </span>
                    </div>
                    <div class="d-flex align-items-center justify-content-between">
                        <div>
                        <i class="bi bi-eye text-primary me-1"></i>
                        <span class="fw-semibold small">{{this.weekly_views}} l∆∞·ª£t xem</span><br>
                        <i class="bi bi-star-fill text-warning"></i>
                        <span class="fw-semibold small">{{this.star}}</span>
                        <span class="text-muted small ms-1">{{this.student}} h·ªçc vi√™n</span>
                        </div>
                        <span class="fw-bold text-primary">${{this.current_price}}</span>
                    </div>
                    </div>
                </div>
                </div>
            </div>
            {{/each}}
            </div>
        </div>
    </section>


    
    <section class="courses py-5 bg-light">
        <div class="container">
            <div class="section-header text-center mb-5">
            <h2 class="section-title fw-bold text-primary">Kh√≥a H·ªçc ƒê∆∞·ª£c Xem Nhi·ªÅu Nh·∫•t</h2>
            <p class="section-subtitle text-muted">
                10 kh√≥a h·ªçc thu h√∫t nhi·ªÅu l∆∞·ª£t xem v√† ƒë√°nh gi√° cao t·ª´ c·ªông ƒë·ªìng h·ªçc vi√™n
            </p>
            </div>

            {{#if topViewedCourses.length}}
            <div id="viewedCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">

                <!-- Slide 1 -->
                <div class="carousel-item active">
                <div class="row g-4 justify-content-center">
                    {{#each (slice topViewedCourses 0 4)}}
                    {{> courseCard this}}
                    {{/each}}
                </div>
                </div>

                <!-- Slide 2 -->
                <div class="carousel-item">
                <div class="row g-4 justify-content-center">
                    {{#each (slice topViewedCourses 4 8)}}
                    {{> courseCard this}}
                    {{/each}}
                </div>
                </div>

                <!-- Slide 3 (c√°c m·ª•c c√≤n l·∫°i ƒë·ªÉ ƒë·ªß 10) -->
                <div class="carousel-item">
                <div class="row g-4 justify-content-center">
                    {{#each (slice topViewedCourses 8 12)}}
                    {{> courseCard this}}
                    {{/each}}
                </div>
                </div>
            </div>

            <!-- Pagination s·ªë thay cho m≈©i t√™n -->
            <div class="carousel-indicators indicators-numeric">
                <button type="button" data-bs-target="#viewedCarousel" data-bs-slide-to="0" class="active" aria-current="true">1</button>
                <button type="button" data-bs-target="#viewedCarousel" data-bs-slide-to="1">2</button>
                <button type="button" data-bs-target="#viewedCarousel" data-bs-slide-to="2">3</button>
            </div>
            </div>
            {{else}}
            <div class="col-12 text-center text-muted">
                <p>Kh√¥ng c√≥ kh√≥a h·ªçc n√†o ƒë·ªÉ hi·ªÉn th·ªã.</p>
            </div>
            {{/if}}
        </div>
    </section>



    

    <section class="courses py-5 bg-white">
        <div class="container">
            <div class="section-header text-center mb-5">
            <h2 class="section-title fw-bold text-primary">Kh√≥a H·ªçc M·ªõi Nh·∫•t</h2>
            <p class="section-subtitle text-muted">
                10 kh√≥a h·ªçc m·ªõi ƒë∆∞·ª£c c·∫≠p nh·∫≠t g·∫ßn ƒë√¢y nh·∫•t tr√™n h·ªá th·ªëng
            </p>
            </div>

            {{#if newestCourses.length}}
            <!-- T·∫ÆT auto-run: data-bs-ride="false" + data-bs-interval="false" -->
            <div id="newestCarousel" class="carousel slide" data-bs-ride="false" data-bs-interval="false">
            <div class="carousel-inner">
                <div class="carousel-item active">
                <div class="row g-4 justify-content-center">
                    {{#each (slice newestCourses 0 4)}} {{> courseCard this}} {{/each}}
                </div>
                </div>
                <div class="carousel-item">
                <div class="row g-4 justify-content-center">
                    {{#each (slice newestCourses 4 8)}} {{> courseCard this}} {{/each}}
                </div>
                </div>
                <div class="carousel-item">
                <div class="row g-4 justify-content-center">
                    {{#each (slice newestCourses 8 12)}} {{> courseCard this}} {{/each}}
                </div>
                </div>
            </div>

            <!-- Pagination d·∫°ng s·ªë -->
            <div class="carousel-indicators indicators-numeric">
                <button type="button" data-bs-target="#newestCarousel" data-bs-slide-to="0" class="active" aria-current="true">1</button>
                <button type="button" data-bs-target="#newestCarousel" data-bs-slide-to="1">2</button>
                <button type="button" data-bs-target="#newestCarousel" data-bs-slide-to="2">3</button>
            </div>
            </div>
            {{else}}
            <div class="col-12 text-center text-muted"><p>Ch∆∞a c√≥ kh√≥a h·ªçc m·ªõi n√†o ƒë∆∞·ª£c th√™m g·∫ßn ƒë√¢y.</p></div>
            {{/if}}
        </div>
    </section>


    <section class="py-5 bg-light top-categories">
        <div class="container">
            <div class="section-header text-center mb-5">
            <h2 class="fw-bold text-primary mb-3">
                Lƒ©nh V·ª±c C√≥ Nhi·ªÅu H·ªçc Vi√™n ƒêƒÉng K√Ω Trong Tu·∫ßn Qua
            </h2>
            <p class="text-muted">
                Top c√°c lƒ©nh v·ª±c ƒë∆∞·ª£c nhi·ªÅu h·ªçc vi√™n tham gia nh·∫•t trong 7 ng√†y qua
            </p>
            </div>

            {{#if topCategories.length}}
            <div class="row g-4 justify-content-center">
            {{#each topCategories}}
            <div class="col-12 col-sm-6 col-md-4 col-lg-3 d-flex">
                <div
                class="category-card text-center bg-white border rounded-4 shadow-sm p-4 flex-fill d-flex flex-column justify-content-between hover-scale"
                data-category="{{this.category_name}}"
                style="cursor:pointer"
                >
                <div>
                    <div class="category-icon mb-3">
                    <i class="bi bi-bookmark-star fs-1 text-primary"></i>
                    </div>
                    <h5 class="fw-bold text-dark">{{this.category_name}}</h5>
                    <p class="text-muted small mb-2">{{this.enrollments_this_week}} l∆∞·ª£t ƒëƒÉng k√Ω</p>
                </div>
                <div>
                    <div class="text-success small mb-1">
                    <i class="bi bi-people-fill me-1"></i>{{this.students_this_week}} h·ªçc vi√™n ƒëƒÉng k√Ω
                    </div>
                    <div class="text-warning small">
                    <i class="bi bi-star-fill me-1"></i>{{this.avg_star}} / 5
                    </div>
                </div>
                </div>
            </div>
            {{/each}}
            </div>
            {{else}}
            <div class="text-center text-muted py-5">
            Ch∆∞a c√≥ lƒ©nh v·ª±c n√†o ƒë∆∞·ª£c ƒëƒÉng k√Ω trong tu·∫ßn qua.
            </div>
            {{/if}}
        </div>
    </section>



    



    <section class="features" id="about">
        <div class="container">
            <div class="section-header text-center mb-5">
                <h2 class="section-title fw-bold">T·∫°i Sao Ch·ªçn Online Academy?</h2>
                <p class="section-subtitle text-muted">Nh·ªØng l·ª£i √≠ch v∆∞·ª£t tr·ªôi khi h·ªçc t·∫≠p c√πng ch√∫ng t√¥i</p>
            </div>
            <div class="row g-4">
                <div class="col-md-6 col-lg-4 d-flex">
                    <div class="feature-card text-center p-4 bg-white rounded-4 border shadow-sm w-100">
                        <div class="feature-icon fs-1 text-primary mb-3">üìö</div>
                        <h5 class="fw-semibold mb-2">Kh√≥a h·ªçc ƒëa d·∫°ng</h5>
                        <p class="text-muted small">H√†ng ngh√¨n kh√≥a h·ªçc t·ª´ c∆° b·∫£n ƒë·∫øn n√¢ng cao trong nhi·ªÅu lƒ©nh v·ª±c kh√°c nhau</p>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4 d-flex">
                     <div class="feature-card text-center p-4 bg-white rounded-4 border shadow-sm w-100">
                        <div class="feature-icon fs-1 text-primary mb-3">üë®‚Äçüè´</div>
                        <h5 class="fw-semibold mb-2">Gi·∫£ng vi√™n chuy√™n nghi·ªáp</h5>
                        <p class="text-muted small">H·ªçc t·ª´ nh·ªØng chuy√™n gia h√†ng ƒë·∫ßu v·ªõi kinh nghi·ªám th·ª±c t·∫ø phong ph√∫</p>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4 d-flex">
                     <div class="feature-card text-center p-4 bg-white rounded-4 border shadow-sm w-100">
                        <div class="feature-icon fs-1 text-primary mb-3">‚è∞</div>
                        <h5 class="fw-semibold mb-2">H·ªçc linh ho·∫°t</h5>
                        <p class="text-muted small">H·ªçc theo t·ªëc ƒë·ªô c·ªßa b·∫°n, m·ªçi l√∫c m·ªçi n∆°i v·ªõi thi·∫øt b·ªã di ƒë·ªông ho·∫∑c m√°y t√≠nh</p>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4 d-flex">
                     <div class="feature-card text-center p-4 bg-white rounded-4 border shadow-sm w-100">
                        <div class="feature-icon fs-1 text-primary mb-3">üéì</div>
                        <h5 class="fw-semibold mb-2">Ch·ª©ng ch·ªâ ho√†n th√†nh</h5>
                        <p class="text-muted small">Nh·∫≠n ch·ª©ng ch·ªâ ƒë∆∞·ª£c c√¥ng nh·∫≠n sau khi ho√†n th√†nh kh√≥a h·ªçc</p>
                    </div>
                </div>
                 <div class="col-md-6 col-lg-4 d-flex">
                     <div class="feature-card text-center p-4 bg-white rounded-4 border shadow-sm w-100">
                        <div class="feature-icon fs-1 text-primary mb-3">üí¨</div>
                        <h5 class="fw-semibold mb-2">H·ªó tr·ª£ 24/7</h5>
                        <p class="text-muted small">ƒê·ªôi ng≈© h·ªó tr·ª£ lu√¥n s·∫µn s√†ng gi·∫£i ƒë√°p m·ªçi th·∫Øc m·∫Øc c·ªßa b·∫°n</p>
                    </div>
                </div>
                 <div class="col-md-6 col-lg-4 d-flex">
                     <div class="feature-card text-center p-4 bg-white rounded-4 border shadow-sm w-100">
                        <div class="feature-icon fs-1 text-primary mb-3">üí∞</div>
                        <h5 class="fw-semibold mb-2">Gi√° c·∫£ ph·∫£i chƒÉng</h5>
                        <p class="text-muted small">Chi ph√≠ h·ª£p l√Ω v·ªõi ch·∫•t l∆∞·ª£ng ƒë√†o t·∫°o cao c·∫•p</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    {{!-- CTA Section --}}
    <section class="cta py-5 text-white" id="contact" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
        <div class="container">
            <div class="cta-content text-center">
                <h2 class="fw-bold">B·∫Øt ƒê·∫ßu H√†nh Tr√¨nh H·ªçc T·∫≠p Ngay H√¥m Nay</h2>
                <p class="lead mb-4">ƒêƒÉng k√Ω t√†i kho·∫£n mi·ªÖn ph√≠ v√† kh√°m ph√° h√†ng ngh√¨n kh√≥a h·ªçc ch·∫•t l∆∞·ª£ng</p>
                <a href="/auth/register" class="btn btn-light btn-lg rounded-pill px-4" id="ctaRegisterBtn">ƒêƒÉng k√Ω mi·ªÖn ph√≠</a>
            </div>
        </div>
    </section>

    {{!-- Footer should be in main.hbs layout --}}
    {{!-- {{> footer}} --}}

    {{!-- Modals (Consider moving to main layout if used globally) --}}
    <div class="modal fade" id="loginModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">ƒêƒÉng Nh·∫≠p</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="loginForm"> {{!-- Needs proper action/method for server-side --}}
                        <div class="mb-3">
                            <label for="loginEmail" class="form-label">Email</label>
                            <input type="email" class="form-control" id="loginEmail" required>
                        </div>
                        <div class="mb-3">
                            <label for="loginPassword" class="form-label">M·∫≠t kh·∫©u</label>
                            <input type="password" class="form-control" id="loginPassword" required>
                        </div>
                        <button type="submit" class="btn btn-primary w-100">ƒêƒÉng nh·∫≠p</button>
                    </form>
                </div>
                <div class="modal-footer justify-content-center">
                    <p class="mb-0 small">Ch∆∞a c√≥ t√†i kho·∫£n? <a href="#" data-bs-toggle="modal" data-bs-target="#registerModal" data-bs-dismiss="modal">ƒêƒÉng k√Ω ngay</a></p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="registerModal" tabindex="-1" aria-hidden="true">
         <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">ƒêƒÉng K√Ω</h5>
                     <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                 <div class="modal-body">
                    <form id="registerForm"> {{!-- Needs proper action/method for server-side --}}
                        <div class="mb-3">
                            <label for="registerEmail" class="form-label">Email</label>
                            <input type="email" class="form-control" id="registerEmail" required>
                        </div>
                        <div class="mb-3">
                            <label for="registerPassword" class="form-label">M·∫≠t kh·∫©u</label>
                            <input type="password" class="form-control" id="registerPassword" required>
                        </div>
                        <div class="mb-3">
                            <label for="registerConfirmPassword" class="form-label">X√°c nh·∫≠n m·∫≠t kh·∫©u</label>
                            <input type="password" class="form-control" id="registerConfirmPassword" required>
                        </div>
                        <button type="submit" class="btn btn-primary w-100">ƒêƒÉng k√Ω</button>
                    </form>
                </div>
                <div class="modal-footer justify-content-center">
                   <p class="mb-0 small">ƒê√£ c√≥ t√†i kho·∫£n? <a href="#" data-bs-toggle="modal" data-bs-target="#loginModal" data-bs-dismiss="modal">ƒêƒÉng nh·∫≠p</a></p>
                </div>
            </div>
        </div>
    </div>

    {{!-- Course Detail Modal Placeholder (Remove if using separate page) --}}
    {{!-- <div class="modal fade course-modal" id="courseModal" tabindex="-1" aria-hidden="true"> ... </div> --}}

    {{!-- Include Bootstrap JS if not already in main.hbs --}}
    {{!-- Your custom JS --}}
    <script type="module" src="/js/main.js"></script> {{!-- Check path --}}
</body>
</html>