<a href="/admin" class="btn btn-outline-secondary mb-4">
  Quay láº¡i Báº£ng Ä‘iá»u khiá»ƒn
</a>
<h4 class="fw-bold mb-0">Danh sÃ¡ch ngÆ°á»i dÃ¹ng</h4>

<div class="d-flex justify-content-between align-items-center mb-4">

  <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addUserModal">
    â• ThÃªm ngÆ°á»i dÃ¹ng má»›i
  </button>
</div>

<!-- ğŸŒŸ Modal thÃªm ngÆ°á»i dÃ¹ng má»›i -->
<div class="modal fade" id="addUserModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <form method="POST" action="/admin/users/add-new">
        <div class="modal-header">
          <h5 class="modal-title">ThÃªm ngÆ°á»i dÃ¹ng má»›i</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label class="form-label">Há» vÃ  tÃªn</label>
            <input type="text" name="full_name" class="form-control" required>
          </div>

          <div class="mb-3">
            <label class="form-label">Email</label>
            <input type="email" name="email" class="form-control" required>
          </div>

          <div class="mb-3">
            <label class="form-label">Máº­t kháº©u</label>
            <input type="password" name="password" class="form-control" minlength="6" required>
          </div>

          <div class="mb-3">
            <label class="form-label">Vai trÃ²</label>
            <select name="role" class="form-select" required>
              <option value="student">ğŸ“ Há»c viÃªn</option>
              <option value="instructor">ğŸ‘¨â€ğŸ« Giáº£ng viÃªn</option>
              <option value="admin">ğŸ›¡ï¸ Quáº£n trá»‹ viÃªn</option>
            </select>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Há»§y</button>
          <button type="submit" class="btn btn-primary">Táº¡o má»›i</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- ==== ADMIN ==== -->
<h5 class="fw-semibold text-dark mb-3 mt-4">ğŸ›¡ï¸ Quáº£n trá»‹ viÃªn</h5>
<table class="table table-hover align-middle border shadow-sm">
  <thead class="table-light">
    <tr>
      <th>ID</th>
      <th>TÃªn</th>
      <th>Email</th>
      <th>Há»“ sÆ¡ Quáº£n trá»‹ ViÃªn</th>
    </tr>
  </thead>
  <tbody>
    {{#each admins}}
    <tr>
      <td>{{account_id}}</td>
      <td>{{full_name}}</td>
      <td>{{email}}</td>
      <td>
        <a href="/admin/users/view/admin/{{account_id}}" class="btn btn-sm btn-outline-primary">
          Xem há»“ sÆ¡
        </a>
        <form method="POST" action="/admin/users/delete/admin/{{account_id}}" class="d-inline">
          <button type="submit" class="btn btn-sm btn-outline-danger"
            onclick="return confirm('Báº¡n cÃ³ cháº¯c muá»‘n xÃ³a quáº£n trá»‹ viÃªn nÃ y khÃ´ng?')">
            ğŸ—‘ XÃ³a
          </button>
        </form>
      </td>


    </tr>
    {{/each}}
  </tbody>
</table>

<hr class="my-4">

<!-- ==== GIáº¢NG VIÃŠN ==== -->
<h5 class="fw-semibold text-primary mb-3">ğŸ“˜ Giáº£ng viÃªn Ä‘Ã£ Ä‘Äƒng kÃ½</h5>
<table class="table table-hover align-middle border shadow-sm">
  <thead class="table-light">
    <tr>
      <th scope="col">ID</th>
      <th scope="col">TÃªn</th>
      <th scope="col">Email</th>
      <th scope="col">Tá»•ng há»c viÃªn</th>
      <th scope="col">Há»“ sÆ¡ giáº£ng viÃªn</th>
    </tr>
  </thead>
  <tbody>
    {{#if instructors.length}}
    {{#each instructors}}
    <tr>
      <td>{{instructor_id}}</td>
      <td>{{name}}</td>
      <td>{{email}}</td>
      <td>{{total_students}}</td>
      <td>
        <a href="/admin/users/view/instructor/{{instructor_id}}" class="btn btn-sm btn-outline-primary">
          Xem há»“ sÆ¡
        </a>
        <form method="POST" action="/admin/users/delete/instructor/{{instructor_id}}" class="d-inline">
          <button type="submit" class="btn btn-sm btn-outline-danger"
            onclick="return confirm('Báº¡n cÃ³ cháº¯c muá»‘n xÃ³a giáº£ng viÃªn nÃ y khÃ´ng?')">
            ğŸ—‘ XÃ³a
          </button>
        </form>
      </td>
    </tr>
    {{/each}}
    {{else}}
    <tr>
      <td colspan="4" class="text-center text-muted py-3">ChÆ°a cÃ³ giáº£ng viÃªn nÃ o trong há»‡ thá»‘ng</td>
    </tr>
    {{/if}}
  </tbody>
</table>

<!-- ==== GIáº¢NG VIÃŠN CHÆ¯A ÄÄ‚NG KÃ ==== -->
{{#if unregistered.length}}
<h5 class="fw-semibold text-danger mt-5 mb-3">Giáº£ng viÃªn chÆ°a cÃ³ trong danh sÃ¡ch</h5>
<p class="text-muted mb-3">Nhá»¯ng tÃ i khoáº£n cÃ³ vai trÃ² <strong>instructor</strong> nhÆ°ng chÆ°a cÃ³ há»“ sÆ¡ giáº£ng viÃªn.</p>

<table class="table table-bordered align-middle border shadow-sm">
  <thead class="table-light">
    <tr>
      <th scope="col">ID</th>
      <th scope="col">TÃªn</th>
      <th scope="col">Email</th>
      <th scope="col" class="text-center">HÃ nh Ä‘á»™ng</th>
    </tr>
  </thead>
  <tbody>
    {{#each unregistered}}
    <tr>
      <td>{{account_id}}</td>
      <td>{{name}}</td>
      <td>{{email}}</td>
      <td class="text-center">
        <form method="POST" action="/admin/users/add-instructor/{{account_id}}" class="d-inline">
          <button type="submit" class="btn btn-sm btn-outline-success">
            ThÃªm vÃ o danh sÃ¡ch giáº£ng viÃªn
          </button>
        </form>
      </td>
    </tr>
    {{/each}}
  </tbody>
</table>
{{/if}}

<!-- ==== Há»ŒC VIÃŠN ==== -->
<h5 class="fw-semibold text-success mt-5 mb-3">ğŸ“ Há»c viÃªn</h5>
<table class="table table-hover align-middle border shadow-sm">
  <thead class="table-light">
    <tr>
      <th scope="col">ID</th>
      <th scope="col">TÃªn</th>
      <th scope="col">Email</th>
      <th scope="col">Há»“ sÆ¡ há»c viÃªn</th>
    </tr>
  </thead>
  <tbody>
    {{#if students.length}}
    {{#each students}}
    <tr>
      <td>{{student_id}}</td>
      <td>{{name}}</td>
      <td>{{email}}</td>
      <td>
        <a href="/admin/users/view/student/{{student_id}}" class="btn btn-sm btn-outline-primary">
          Xem há»“ sÆ¡
        </a>
        <form method="POST" action="/admin/users/delete/student/{{student_id}}" class="d-inline">
          <button type="submit" class="btn btn-sm btn-outline-danger"
            onclick="return confirm('Báº¡n cÃ³ cháº¯c muá»‘n xÃ³a há»c viÃªn nÃ y khÃ´ng?')">
            ğŸ—‘ XÃ³a
          </button>
        </form>

      </td>
    </tr>
    {{/each}}
    {{else}}
    <tr>
      <td colspan="3" class="text-center text-muted py-3">ChÆ°a cÃ³ há»c viÃªn nÃ o Ä‘Äƒng kÃ½</td>
    </tr>
    {{/if}}
  </tbody>
</table>